/*!
 * FooBox - A responsive image lightbox for jQuery
 * http://getfoobox.com
 *
 * Copyright 2012, Steven Usher & Brad Vincent
 * http://themergency.com
 *
 * Date: 03 Mar 2013
 * Version : 1.4.0.1
 */
var console, JSON;
window.console || (console = {}), console.log = console.log || function() {}, console.warn = console.warn || function() {}, console.error = console.error || function() {}, console.info = console.info || function() {}, JSON || (JSON = {}), JSON.stringify = JSON.stringify || function() {},
function(n, t, i) {
	function f() {
		var n = this;
		n.id = null, n.busy = !1, n.start = function(t, i) {
			n.busy || (n.stop(), n.id = setTimeout(function() {
				t(), n.id = null, n.busy = !1
			}, i), n.busy = !0)
		}, n.stop = function() {
			n.id != null && (clearTimeout(n.id), n.id = null, n.busy = !1)
		}
	}
	function e(r, u, e) {
		var o = this;
		return o.id = e, o.container = r, o.options = u, o.thumbs = [], o.modal = null, o.debug = function() {
			if (arguments.length != 0 && o.options.debug != !1) {
				var n = Array.prototype.slice.call(arguments),
					t = n[0];
				n.shift(), n.length > 0 ? console.log(t, n) : console.log(t)
			}
		}, o.debug("foobox:begin"), o.init = function() {
			var i, u, f, r, e;
			(o.debug("foobox.init:begin"), i = n(o.container), i.is(o.options.selector) ? i.is(".foobox-link,.nofoobox") || i.filter(function() {
				return o.options.findImageUrl(this, o).match(o.options.filterRegex)
			}).each(function(t) {
				this.index = t, o.thumbs.push(n(this))
			}).addClass("foobox-link").unbind("click.foobox").bind("click.foobox", function(n) {
				n.preventDefault(), o.modal.show(this.index)
			}) : i.find(o.options.selector).not(".foobox-link,.nofoobox").filter(function() {
				return o.options.findImageUrl(this, o).match(o.options.filterRegex)
			}).each(function(t) {
				this.index = t, o.thumbs.push(n(this))
			}).addClass("foobox-link").unbind("click.foobox").bind("click.foobox", function(n) {
				return n.preventDefault(), o.modal.show(this.index), !1
			}), o.hasThumbs = o.thumbs.length > 0, o.hasThumbs) && (o.debug("foobox.init:thumbs_loaded"), o.hasMultipleImages = o.thumbs.length > 1, o.indexes.set(), t.foobox.plugins.init(o), o.debug("foobox.init:plugins_initialized"), o.createModal(), o.modal.jq.unbind(".foobox").bind("click.foobox", function(n) {
				return o.options.closeOnOverlayClick == !0 && o.modal.jq.get(0) == n.target ? (n.preventDefault(), o.modal.close(), !1) : !0
			}), o.debug("foobox.init:overlay_click_bound"), o.modal.jq.find(".foobox-close").unbind(".foobox").bind("click.foobox", function(n) {
				return n.preventDefault(), o.modal.close(), !1
			}).end().find(".foobox-prev").unbind(".foobox").bind("click.foobox", function(n) {
				return n.preventDefault(), o.modal.prev(), !1
			}).end().find(".foobox-next").unbind(".foobox").bind("click.foobox", function(n) {
				return n.preventDefault(), o.modal.next(), !1
			}).end().find(".foobox-inner > img").unbind(".foobox").bind("click.foobox", function() {
				o.modal.busy == !1 && o.modal.imageClicked()
			}), o.options.allowFullscreen == !0 && o.modal.jq.find(".foobox-fullscreen-toggle").unbind(".foobox").bind("click.foobox", function(n) {
				n.preventDefault(), o.modal.jq.toggleClass("foobox-fullscreen");
				var t = o.modal.jq.find(".foobox-img-current");
				return o.naturalImageSize(t.get(0), function(n) {
					o.modal.resize(n.naturalWidth, n.naturalHeight, function() {
						o.modal.refreshCaption(), t.css("opacity", 1)
					})
				}), !1
			}), o.options.captions.onlyShowOnHover == !0 && (u = o.modal.jq.find(".foobox-inner"), f = o.modal.jq.find(".foobox-caption"), u.hover(function() {
				u.addClass("foobox-hover"), f.hasClass("foobox-caption-hidden") || o.modal.showCaption()
			}, function() {
				u.removeClass("foobox-hover"), f.is(":visible") && o.modal.hideCaption(!1)
			})), n(document).bind("keydown.foobox", function(n) {
				if (o.modal.jq.hasClass("foobox-show") == !1) return !0;
				var t = n.keyCode;
				if (t === 27) return n.preventDefault(), o.modal.close(), !1;
				if (o.hasMultipleImages == !0 && t === 37) return n.preventDefault(), o.modal.prev(), !1;
				if (o.hasMultipleImages == !0 && t === 39) return n.preventDefault(), o.modal.next(), !1;
				o.modal.busy == !1 && o.raise("foobox_keydown", {
					key: t
				})
			}), o.debug("foobox.init:keys_bound"), o.modal.jq.find(".foobox-inner").fooboxswipe({
				swipeLeft: function() {
					o.modal.prev()
				},
				swipeRight: function() {
					o.modal.next()
				}
			}), o.debug("foobox.init:touch_bound"), n(t).bind("resize.foobox", function() {
				if (o.modal.jq.hasClass("foobox-show") == !1) return !0;
				o.timers.resize.start(function() {
					var n = o.modal.jq.find(".foobox-img-current");
					o.naturalImageSize(n.get(0), function(t) {
						o.modal.resize(t.naturalWidth, t.naturalHeight, function() {
							o.modal.refreshCaption(), n.css("opacity", 1)
						})
					})
				}, o.options.resizeTimeout)
			}), o.debug("foobox.init:resize_bound"), r = o.modal.getHash(), r && o.id == r.fooboxId && (e = o.thumbs[r.imageIndex], o.raise("foobox_has_hash", {
				thumb: e
			}), setTimeout(function() {
				var t = n(o.container);
				t.is(o.options.selector) ? t.click() : t.find(o.options.selector).eq(r.imageIndex).click()
			}, 50)), o.debug("foobox.init:end"))
		}, o.indexes = {
			prev: -1,
			current: 0,
			next: 1,
			set: function(n) {
				o.debug("foobox.indexes.set:begin", n), n = n || 0, n = n > o.thumbs.length - 1 ? 0 : n < 0 ? o.thumbs.length - 1 : n;
				var t = n - 1,
					i = n + 1;
				o.indexes.current = n, o.indexes.prev = t < 0 ? o.thumbs.length - 1 : t, o.indexes.next = i > o.thumbs.length - 1 ? 0 : i, o.debug("foobox.indexes.set:end", n)
			}
		}, o.timers = {
			error: new f,
			loading: new f,
			resize: new f
		}, o.raise = function(t, i) {
			var r, u;
			return i = i || {}, r = {
				fb: o
			}, n.extend(!0, r, i), u = n.Event(t, r), n(o.container).trigger(u), u
		}, o.preload = function() {
			o._preloadImage(o.thumbs[o.indexes.prev]), o._preloadImage(o.thumbs[o.indexes.next])
		}, o._preloadImage = function(n) {
			if (n.length > 0 && n.data("preloaded") != "true") {
				var t = new Image;
				t.src = o.options.findImageUrl(n, o), n.data("preloaded", "true")
			}
		}, o.naturalImageSize = function(t, i) {
			o.debug("foobox.naturalImageSize:begin"), setTimeout(function() {
				var r = {
					naturalHeight: 0,
					naturalWidth: 0
				}, u;
				"naturalWidth" in t && "naturalHeight" in t && t.naturalHeight != 0 && t.naturalWidth != 0 ? (o.debug("foobox.naturalImageSize:exists"), r.naturalHeight = t.naturalHeight, r.naturalWidth = t.naturalWidth, o.debug("foobox.naturalImageSize:end"), n.isFunction(i) && i(r)) : (o.debug("foobox.naturalImageSize:non-existant"), u = new Image, u.onload = function() {
					t.naturalHeight = r.naturalHeight = u.height, t.naturalWidth = r.naturalWidth = u.width, o.debug("foobox.naturalImageSize:end"), n.isFunction(i) && i(r)
				}, u.onerror = function(t) {
					o.options.debug == !0 && console.error('Error loading image in function "naturalImageSize".', t), o.debug("foobox.naturalImageSize:end"), n.isFunction(i) && i(r)
				}, u.src = t.src)
			}, o.options.loadDelay)
		}, o.generateModalHtml = function() {
			var i, t, r;
			return o.debug("foobox.modal.jq:begin"), i = n(".foobox-modal-" + o.id), i.length <= 0 && (o.debug("foobox.modal.jq:creating_modal"), i = n('<div class="foobox-modal foobox-modal-' + o.id + '"><\/div>'), i.append('<div class="foobox-inner-spacer"><\/div>'), i.append('<div class="foobox-loader"><\/div>'), t = n('<div class="foobox-inner"><\/div>'), t.append('<img class="foobox-img-current" alt="" src="" /><img class="foobox-img-next" alt="" src="" />'), o.options.allowFullscreen == !0 && t.append('<a href="#fullscreen" class="foobox-fullscreen-toggle"><\/a>'), t.append('<a href="#close" class="foobox-close"><\/a>'), o.options.affiliate.enabled == !0 && t.append('<div class="foobox-credit"><a target="_blank" href="' + o.options.affiliate.url + '"><em>' + o.options.affiliate.prefix + " <\/em><span>FooBox<\/span><\/a><\/div>"), r = n('<div class="foobox-caption"><\/div>'), r.append('<span class="foobox-title"><\/span>'), t.append(r), o.options.showCount == !0 && o.hasMultipleImages && t.append('<span class="foobox-count" />'), i.append(t), t.find(".foobox-img-current").css("opacity", 0), o.options.showButtons == !0 && o.hasMultipleImages && (i.prepend('<a href="#prev" class="foobox-prev"><\/a>'), i.append('<a href="#next" class="foobox-next"><\/a>'), t.prepend('<a href="#prev" class="foobox-prev"><\/a>'), t.append('<a href="#next" class="foobox-next"><\/a>')), i.addClass(o.options.modalClass)), o.debug("foobox.modal.jq:end"), i
		}, o.createModal = function() {
			var t, r;
			o.debug("foobox.modal:begin"), t = o.modal = {}, t.busy = !1, r = {
				getImage: function() {
					var n = new Image;
					return n.src = o.options.error.src, n
				},
				thumb: {
					jq: null,
					target: o.options.error.src,
					title: o.options.error.message,
					error: !0
				}
			}, t.jq = o.generateModalHtml(), t.jq.closest("html").length == 0 && (n("body").prepend(t.jq), o.raise("foobox_modal_created")), t.resize = function(i, r, u) {
				var f, e, s, h;
				if (o.debug("foobox.modal.resize:begin"), t.jq.hasClass("foobox-show")) {
					if (f = t.jq.find(".foobox-inner"), e = t.jq.find(".foobox-inner-spacer"), i == 0 || r == 0) {
						console.error("Either the supplied naturalWidth or naturalHeight is 0.", {
							naturalWidth: i,
							naturalHeight: r
						}), o.debug("foobox.modal.resize:end"), n.isFunction(u) && u();
						return
					}
					var y = o.options.showButtons == !0 && o.hasMultipleImages,
						a = parseInt(e.css("padding-top")),
						p = parseInt(e.css("padding-bottom")),
						nt = parseInt(e.css("padding-left")),
						tt = parseInt(e.css("padding-right")),
						w = parseInt(f.css("border-top-width")),
						b = parseInt(f.css("border-bottom-width")),
						k = parseInt(f.css("border-left-width")),
						d = parseInt(f.css("border-right-width")),
						c = parseInt(f.css("padding-left")),
						it = parseInt(f.css("height")),
						rt = parseInt(f.css("width")),
						ut = (y ? a + p : a * 2) + c * 2 + w + b,
						ft = nt + tt + c * 2 + k + d,
						v = t.jq.height() - ut,
						g = t.jq.width() - ft,
						l = g / i;
					r * l > v && (l = v / r), s = r, h = i, (o.options.fitToScreen == !0 || r > v || i > g) && (s = Math.floor(r * l), h = Math.floor(i * l)), s != it || h != rt ? f.animate({
						height: s,
						width: h,
						"margin-top": -(s / 2 + c + (w + b) / 2 + (y ? p - a : 0)),
						"margin-left": -(h / 2 + c + (k + d) / 2)
					}, 300, function() {
						o.debug("foobox.modal.resize:end"), n.isFunction(u) && u()
					}) : (o.debug("foobox.modal.resize:end"), n.isFunction(u) && u())
				}
			}, t.transition = function(t, i, r) {
				o.debug("foobox.modal.transition:begin"), t.animate({
					opacity: 0
				}, o.options.transitionOutSpeed), i.animate({
					opacity: 1
				}, o.options.transitionInSpeed, function() {
					i.add(t).toggleClass("foobox-img-next foobox-img-current"), o.debug("foobox.modal.transition:end"), n.isFunction(r) && r()
				})
			}, t.getCurrentThumb = function() {
				o.debug("foobox.modal.getCurrentThumb:begin");
				var n = {
					jq: null,
					target: null,
					title: "",
					error: !1
				};
				try {
					n.index = o.indexes.current, n.jq = o.thumbs[o.indexes.current], n.target = o.options.findImageUrl(o.thumbs[o.indexes.current], o)
				} catch (t) {
					o.debug("Error occurred creating thumb object.", t), n = r.thumb
				}
				return o.debug("foobox.modal.getCurrentThumb:end"), n
			}, t.buildThumbCaption = function(t, i) {
				var f = o.options.captions,
					u, r, e;
				f.enabled ? (u = "", r = "", f.titleSource != "none" && (u = n.trim(i.find("img:first").attr("title")), f.titleSource == "anchor" ? u = n.trim(i.attr("title")) : f.titleSource == "image_alt" && (u = n.trim(i.find("img:first").attr("alt")))), f.descSource != "none" && (r = n.trim(i.attr("title")) || n.trim(i.find("img:first").attr("title")), f.descSource == "image" ? r = n.trim(i.find("img:first").attr("title")) : f.descSource == "image_alt" ? r = n.trim(i.find("img:first").attr("alt")) : f.descSource == "anchor" && (r = n.trim(i.attr("title")))), f.prettify && f.prettifier && (u = f.prettifier(u), r = f.prettifier(r)), e = o.raise("foobox_image_custom_caption", {
					thumb: i,
					title: u,
					desc: r,
					handled: !1
				}), e.handled && (u = e.title, r = e.desc), u && u == r && (r = ""), r && r != "" && (r = '<div class="foobox-caption-desc">' + r + "<\/div>"), t.title = u, t.desc = r, t.caption = (u && u != "" ? '<div class="foobox-caption-title">' + u + "<\/div>" : "") + r) : t.caption = ""
			}, t.show = function(i) {
				var f, e, u;
				(o.debug("foobox.modal.show:begin"), t.busy != !0) && (t.busy = !0, o.options.hideScrollbars == !0 && n("body").css("overflow", "hidden"), o.indexes.set(i), f = t.getCurrentThumb(), o.options.captions.enabled && !f.caption && t.buildThumbCaption(f, o.thumbs[o.indexes.current]), o.raise("foobox_image_before_load", {
					thumb: f
				}), o.timers.loading.start(function() {
					t.jq.find(".foobox-loader").show()
				}, o.options.loaderTimeout), e = o.options.preloadImages, t.jq.hasClass("foobox-show") == !1 ? (t.jq.find(".foobox-inner, .foobox-prev, .foobox-next, .foobox-play, .foobox-pause").css("display", "none"), t.jq.find(".foobox-inner").css({
					width: "240px",
					height: "240px",
					"margin-top": "-120px",
					"margin-left": "-120px"
				}), t.jq.addClass("foobox-show"), o.raise("foobox_modal_show")) : o.options.captions.enabled && t.hideCaption(!1), t.jq.find(".foobox-count").text(o.options.countMessage.replace("%index", o.indexes.current + 1).replace("%total", o.thumbs.length)), o.options.deeplinking.enabled == !0 && t.setHash(f), u = new Image, f.img = u, u.onload = function() {
					u.onload = u.onerror = null, o.raise("foobox_image_onload", {
						thumb: f
					}), t.jq.find(".foobox-inner").removeClass("foobox-img-error"), t.imageOnload(f, u, o.options.captions.enabled, e, o.options.captions.onlyShowOnHover), u = null
				}, u.onerror = function() {
					u.onload = u.onerror = null, o.raise("foobox_image_onerror", {
						thumb: f
					}), t.jq.find(".foobox-inner").addClass("foobox-img-error"), t.imageOnload(r.thumb, r.getImage(), !0, o.options.captions.onlyShowOnHover), u = null
				}, o.modal.jq.find(".foobox-caption").hide(), o.raise("foobox_image_before_load", {
					thumb: f
				}), u.src = f.target, o.debug("foobox.modal.show:end"))
			}, t.imageOnload = function(n, i, r, u, f) {
				o.debug("foobox.modal.imageOnload:begin"), o.timers.loading.stop(), t.jq.find(".foobox-loader").hide();
				var s = t.jq.find(".foobox-img-current"),
					e = t.jq.find(".foobox-img-next");
				s.add(e).css("opacity", "0"), e.attr("src", n.target), o.naturalImageSize(i, function(i) {
					t.jq.find(".foobox-inner, .foobox-prev, .foobox-next, .foobox-play, .foobox-pause").css("display", ""), t.resize(i.naturalWidth, i.naturalHeight, function() {
						t.transition(s, e, function() {
							o.raise("foobox_image_after_load", {
								thumb: n
							}), t.busy = !1, r == !0 && (t.jq.find(".foobox-caption .foobox-title").html(n.caption), f ? o.modal.jq.find(".foobox-inner").hasClass("foobox-hover") ? t.showCaption() : t.hideCaption(!1) : t.showCaption()), u == !0 && o.preload(), o.debug("foobox.modal.imageOnload:end")
						})
					})
				})
			}, t.showCaption = function() {
				var n, i;
				t.busy != !0 && (n = t.jq.find(".foobox-caption"), n.find(".foobox-title").html().length != 0) && (n.removeClass("foobox-caption-hidden"), i = t.getCaptionHeight(), o.options.captions.animation == "slide" ? n.stop().height(0).show().animate({
					height: i
				}, function() {}) : o.options.captions.animation == "fade" ? n.stop().height(i).fadeIn(function() {}) : o.options.captions.animation == "show" && n.stop().height(i).show(), o.raise("foobox_image_show_caption", {
					height: i
				}))
			}, t.getCaptionHeight = function() {
				var u = t.jq.find(".foobox-caption .foobox-title"),
					s = t.jq.find(".foobox-caption-desc"),
					f = [],
					e = u.parents().andSelf().filter(":hidden"),
					h = "visibility: hidden !important; display: block !important; ",
					r, o;
				return e.each(function() {
					var t = n(this);
					f.push(t.attr("style")), t.attr("style", h)
				}), r = u.outerHeight(!0), o = s.outerHeight(!0), e.each(function(t) {
					var r = n(this),
						u = f[t];
					u === i ? r.removeAttr("style") : r.attr("style", u)
				}), r > t.jq.find(".foobox-inner").height() * .8 && (r = r - o), r
			}, t.refreshCaption = function() {
				var i = t.jq.find(".foobox-caption:visible"),
					r = t.jq.find(".foobox-caption .foobox-title"),
					n;
				i.length > 0 && (n = t.getCaptionHeight(), i.height(n), o.raise("foobox_image_show_caption", {
					height: n
				}))
			}, t.hideCaption = function(i) {
				if (t.busy != !0) {
					typeof i == "undefined" && (i = !1);
					var r = t.jq.find(".foobox-caption");
					i && r.addClass("foobox-caption-hidden"), o.options.captions.animation == "slide" ? r.stop().animate({
						height: 0
					}, function() {
						n(this).hide()
					}) : o.options.captions.animation == "fade" ? r.stop().fadeOut(function() {
						n(this).hide()
					}) : o.options.captions.animation == "show" && r.stop().hide()
				}
			}, t.close = function() {
				t.jq.removeClass("foobox-show"), t.busy = !1, o.options.hideScrollbars == !0 && n("body").css("overflow", "auto"), o.raise("foobox_modal_close"), o.options.deeplinking.enabled == !0 && t.clearHash()
			}, t.prev = function() {
				t.show(o.indexes.prev), o.raise("foobox_modal_prev")
			}, t.next = function() {
				t.show(o.indexes.next), o.raise("foobox_modal_next")
			}, t.imageClicked = function() {
				o.raise("foobox_modal_imageClicked", {
					thumb: o.modal.getCurrentThumb()
				}), o.options.captions.enabled == !0 && (t.jq.find(".foobox-caption:visible").length > 0 ? t.hideCaption(!0) : t.showCaption())
			}, t.setHash = function(n) {
				var u = o.options.deeplinking.prefix,
					i = n.target.match(/.*\/(.*)$/),
					r, t;
				i && (r = i[1], t = u + "-" + o.id + "/" + n.index + "/" + r, location.hash.replace("#", "") != t && (location.hash = t))
			}, t.clearHash = function() {
				location.hash.indexOf("#" + o.options.deeplinking.prefix) !== -1 && (location.hash = "#/")
			}, t.getHash = function() {
				var t, r;
				if (location.hash.indexOf("#" + o.options.deeplinking.prefix) !== -1) {
					t = location.hash, t.substr(-1) == "/" && (t = t.substr(0, t.length - 1));
					var u = t.match(/\/([^\/]+)\/([^\/]+)$/),
						f = u[1],
						e = u[2],
						i = -1;
					return n.each(o.thumbs, function(n, t) {
						o.options.findImageUrl(t, o).indexOf(e) !== -1 && (i = n)
					}), i == -1 && (i = f), r = t.substring(0, t.indexOf("/")), r = r.replace("#" + o.options.deeplinking.prefix + "-", ""), {
						imageIndex: i,
						fooboxId: r
					}
				}
				return !1
			}, o.debug("foobox.modal:end"), o.modal = t
		}, o.init(), o.debug("foobox:end"), o
	}
	var r, u;
	if (t.foobox = {
		version: {
			major: 1,
			minor: 4,
			toString: function() {
				return t.foobox.version.major + "." + t.foobox.version.minor
			},
			parse: function(n) {
				return version = /(\d+)\.?(\d+)?\.?(\d+)?/.exec(n), {
					major: parseInt(version[1]) || 0,
					minor: parseInt(version[2]) || 0,
					patch: parseInt(version[3]) || 0
				}
			}
		},
		options: {
			fitToScreen: !1,
			hideScrollbars: !0,
			modalClass: "",
			loopImages: !1,
			allowFullscreen: !1,
			captions: {
				enabled: !0,
				overrideTitle: !1,
				onlyShowOnHover: !1,
				titleSource: "image",
				overrideDesc: !1,
				descSource: "find",
				animation: "slide",
				prettify: !1,
				prettifier: function(n) {
					return n ? (n = n.replace(/\s*-\d+/g, "").replace(/\s*_\d+/g, "").replace(/-/g, " ").replace(/_/g, " "), n.replace(/\w\S*/g, function(n) {
						return n.charAt(0).toUpperCase() + n.substr(1).toLowerCase()
					})) : n
				}
			},
			showButtons: !0,
			closeOnOverlayClick: !0,
			showCount: !0,
			countMessage: "image %index of %total",
			selector: 'a[href*=".gif"], a[href*=".GIF"], a[href*=".jpg"], a[href*=".JPG"], a[href*=".jpeg"], a[href*=".JPEG"], a[href*=".png"], a[href*=".PNG"], a[href*=".bmp"], a[href*=".BMP"]',
			findImageUrlAttr: "href",
			findImageUrl: function(t, i) {
				if (typeof t == "undefined") return "";
				var r = t instanceof jQuery ? t : n(t);
				return r.attr(i.options.findImageUrlAttr) ? r.attr(i.options.findImageUrlAttr) : ""
			},
			filterRegex: /\.(jpg|jpeg|png|gif|bmp)/i,
			loaderTimeout: 200,
			resizeTimeout: 300,
			loadDelay: 0,
			preloadImages: !1,
			deeplinking: {
				enabled: !0,
				prefix: "foobox"
			},
			affiliate: {
				enabled: !0,
				prefix: "Powered by ",
				url: "http://getfoobox.com"
			},
			error: {
				message: "Oops, the image couldn't load",
				src: "img/error.png"
			},
			transitionInSpeed: 200,
			transitionOutSpeed: 100,
			debug: !1
		},
		plugins: {
			_validate: function(i) {
				return typeof i.name != "string" ? (t.foobox.options.debug == !0 && console.error('Validation failed, plugin does not implement a string property called "name".', i), !1) : n.isFunction(i.init) ? (t.foobox.options.debug == !0 && console.log('Validation succeeded for plugin "' + i.name + '".', i), !0) : (t.foobox.options.debug == !0 && console.error('Validation failed, plugin "' + i.name + '" does not implement a function called "init".', i), !1)
			},
			registered: [],
			register: function(r, u) {
				t.foobox.plugins._validate(r) && (t.foobox.plugins.registered.push(r), u != i && typeof u == "object" && n.extend(!0, t.foobox.options, u), t.foobox.options.debug == !0 && console.log('Plugin "' + r.name + '" has been registered with the Foobox.', r))
			},
			init: function(n) {
				for (var i = 0; i < t.foobox.plugins.registered.length; i++) try {
						t.foobox.plugins.registered[i].init(n)
				} catch (r) {
					t.foobox.options.debug == !0 && console.error(r)
				}
			}
		}
	}, r = t.foobox.version.parse(n.fn.jquery), r.major == 1 && r.minor < 6) {
		n.fn.foobox = function() {
			console.error("Foobox requires jQuery version 1.6 or higher to work correctly. Please upgrade jQuery to the minimum version and reload the page.")
		};
		return
	}
	u = 0, n.fn.foobox = function(i) {
		i = i || {};
		var r = n.extend(!0, {}, t.foobox.options, i);
		return this.each(function() {
			if (!this.foobox) {
				var t = new e(this, r, u);
				t.hasThumbs && (u++, n(this).addClass("foobox-instance"), this.foobox = t)
			}
		})
	}
}(jQuery, window),
function(n) {
	n.fn.fooboxswipe = function(t) {
		var i = {
			min_move: 80,
			swipeLeft: function() {},
			swipeRight: function() {}
		};
		return t && n.extend(i, t), this.each(function() {
			function f() {
				n(this).unbind("touchmove", u), t = null, r = !1
			}
			function u(n) {
				if (n.preventDefault(), r) {
					var e = n.originalEvent.touches || n.touches,
						o = e[0].pageX,
						u = t - o;
					Math.abs(u) >= i.min_move && (f(), u > 0 ? i.swipeRight() : i.swipeLeft())
				}
			}
			function e(i) {
				var f = i.originalEvent.touches || i.touches;
				f.length == 1 && (t = f[0].pageX, r = !0, n(this).bind("touchmove", u))
			}
			var t, r = !1;
			n(this).bind("touchstart", e)
		}), this
	}
}(jQuery),
function(n, t, i) {
	function r() {
		var t = this;
		return t.name = "Foobox Slideshow", t.running = !1, t.stopped = 0, t.remaining = 0, t.autostart = !1, t.init = function(i) {
			t.autostart = i.options.slideshow.autostart, n(i.container).bind({
				foobox_modal_created: function(r) {
					if (r.fb.options.slideshow.enabled == !0) {
						r.fb.modal.jq.addClass("foobox-slideshow");
						var u = r.fb.modal.jq.find(".foobox-inner");
						u.append('<div class="foobox-progress"><\/div>'), r.fb.options.showButtons == !0 && i.hasMultipleImages && (u.append('<a href="#playpause" class="foobox-play"><\/a>'), r.fb.modal.jq.append('<a href="#playpause" class="foobox-play"><\/a>')), r.fb.modal.jq.undelegate(".foobox-slideshow").delegate(".foobox-play", "click.foobox-slideshow", function(i) {
							return i.preventDefault(), r.fb.modal.busy == !1 && (n(".foobox-play").toggleClass("foobox-play foobox-pause"), t.start(r.fb)), !1
						}).delegate(".foobox-pause", "click.foobox-slideshow", function(i) {
							return i.preventDefault(), r.fb.modal.busy == !1 && (n(".foobox-pause").toggleClass("foobox-play foobox-pause"), t.pause(r.fb)), !1
						})
					}
				},
				foobox_modal_close: function(n) {
					t.stop(n.fb, !1)
				},
				"foobox_modal_next foobox_modal_prev": function(n) {
					t.stop(n.fb, t.autostart == !0 || t.running == !0)
				},
				foobox_image_after_load: function(n) {
					t.autostart == !0 && t.start(n.fb)
				},
				foobox_keydown: function(n) {
					if (n.key == 32) return n.preventDefault(), t.running == !0 ? t.pause(n.fb) : t.start(n.fb), !1
				}
			})
		}, t.start = function(n) {
			t.remaining == 0 && (t.remaining = n.options.slideshow.timeout), t.autostart = !1, t.running = !0, n.modal.jq.find(".foobox-progress").css("width", t.stopped + "%").show().animate({
				width: "100%"
			}, t.remaining, "linear", function() {
				t.stopped = 0, t.remaining = n.options.slideshow.timeout, t.autostart = !0, n.modal.next()
			}), n.raise("foobox_slideshow_start")
		}, t.stop = function(n, i) {
			t.stopped = 0, n.modal.jq.find(".foobox-progress").stop().hide().css("width", t.stopped + "%"), t.running = !1, t.autostart = i, t.remaining = n.options.slideshow.timeout, n.raise("foobox_slideshow_stop")
		}, t.pause = function(n) {
			var i = n.modal.jq.find(".foobox-progress").stop().css("width"),
				r = n.modal.jq.find(".foobox-inner").css("width");
			t.running = !1, t.stopped = parseInt(i) / parseInt(r) * 100, t.remaining = n.options.slideshow.timeout - n.options.slideshow.timeout * (t.stopped / 100), n.raise("foobox_slideshow_pause")
		}, t
	}
	if (t.foobox == i || t.foobox == null) throw new Error("Please check and make sure foobox.js is included in the page and is loaded prior to this script.");
	t.foobox.plugins.register(new r, {
		slideshow: {
			enabled: !0,
			autostart: !1,
			timeout: 6e3
		}
	})
}(jQuery, window),
function(n, t, i) {
	function r() {
		var t = this;
		t.name = "Foobox Social", t.init = function(t) {
			n(t.container).bind({
				foobox_modal_created: function(t) {
					var r, i, u, f;
					if (t.fb.options.social.enabled == !0) {
						if (r = t.fb.modal.jq.find(".foobox-inner"), i = r.find(".foobox-social"), i.length == 0) {
							for (i = n('<div class="foobox-social"><\/div>').hide().addClass("foobox-" + t.fb.options.social.position), u = 0; u < t.fb.options.social.links.length; u++) f = t.fb.options.social.links[u], i.append('<a href="' + f.url + '" rel="nofollow" target="_blank" class="foobox-' + f.css + '" title="' + f.title + '"><\/a>');
							r.append(i)
						}
						t.fb.options.social.onlyShowOnHover == !0 && r.hover(function() {
							i.hasClass("foobox-social-hidden") || i.stop().fadeIn()
						}, function() {
							i.is(":visible") && i.stop().fadeOut()
						})
					}
				},
				foobox_image_show_caption: function(n) {
					n.fb.options.social.position.indexOf("bottom") !== -1 && n.fb.modal.jq.find(".foobox-social").css({
						bottom: n.height
					})
				},
				"foobox_image_before_load foobox_modal_next foobox_modal_prev foobox_image_onerror": function(n) {
					n.fb.modal.jq.find(".foobox-social").hide().removeClass("foobox-social-hidden")
				},
				foobox_image_after_load: function(t) {
					var o, f, r, s, i, u, h, e;
					if (t.thumb.error == !1 && !n(t.thumb.jq).hasClass("no-social")) {
						for (o = t.fb.modal.jq.find(".foobox-social"), f = 0; f < t.fb.options.social.links.length; f++) r = t.fb.options.social.links[f], s = o.find(".foobox-" + r.css), s.length && (i = r.url, i.indexOf("{url-ne}") != -1 && (i = i.replace(/{url-ne}/g, location.href)), i.indexOf("{url}") != -1 && (i = i.replace(/{url}/g, encodeURIComponent(location.href))), i.indexOf("{title}") != -1 && (u = t.thumb.title || "", u = r.titleSource == "caption" ? t.thumb.title + (t.thumb.desc ? " - " + t.thumb.desc : "") : r.titleSource == "h1" ? n("h1:first").text() : r.titleSource == "custom" ? r.titleCustom : document.title + (t.thumb.title ? " - " + t.thumb.title : ""), u = u.replace(/(<([^>]+)>)/ig, ""), i = i.replace(/{title}/g, encodeURIComponent(u))), i.indexOf("{img-ne}") != -1 && (i = i.replace(/{img-ne}/g, t.thumb.img.src)), i.indexOf("{img}") != -1 && (h = decodeURIComponent(t.thumb.img.src), i = i.replace(/{img}/g, encodeURIComponent(h))), i.indexOf("{desc}") != -1 && (e = t.thumb.desc || "", e = e.replace(/(<([^>]+)>)/ig, ""), i = i.replace(/{desc}/g, encodeURIComponent(e))), s.attr("href", i));
						t.fb.options.social.onlyShowOnHover != !0 && o.fadeIn()
					}
				},
				foobox_modal_imageClicked: function(t) {
					if (t.thumb.error == !1 && !n(t.thumb.jq).hasClass("no-social") && t.fb.options.social.enabled == !0) {
						var i = t.fb.modal.jq.find(".foobox-social");
						i.hasClass("foobox-social-hidden") ? i.fadeIn() : i.fadeOut(), i.toggleClass("foobox-social-hidden")
					}
				}
			})
		}
	}
	if (t.foobox == i || t.foobox == null) throw new Error("Please check and make sure foobox.js is included in the page and is loaded prior to this script.");
	t.foobox.plugins.register(new r, {
		social: {
			enabled: !1,
			position: "top",
			onlyShowOnHover: !1,
			links: []
		}
	})
}(jQuery, window),
function(n, t, i) {
	function r() {
		var t = this;
		t.name = "Foobox Wordpress", t.init = function(t) {
			n(t.container).bind({
				foobox_image_custom_caption: function(t) {
					var i = t.fb.options,
						r;
					i.wordpress.enabled == !0 && (r = !1, i.wordpress.galleries == !0 && n(t.fb.container).hasClass("gallery") ? (i.captions.overrideTitle === !1 && (t.title = t.thumb.attr("title"), r = !0), i.captions.overrideDesc === !1 && (t.desc = t.thumb.parents(".gallery-item:first").find(".wp-caption-text:first").html() || "", r = !0), t.handled = r) : i.wordpress.captions == !0 && n(t.fb.container).hasClass("wp-caption") && (i.captions.overrideTitle === !1 && (t.title = t.thumb.find("img").attr("title"), r = !0), i.captions.overrideDesc === !1 && (t.desc = n(t.fb.container).find(".wp-caption-text:first").html() || "", r = !0), t.handled = r))
				}
			})
		}
	}
	if (t.foobox == i || t.foobox == null) throw new Error("Please check and make sure foobox.js is included in the page and is loaded prior to this script.");
	t.foobox.plugins.register(new r, {
		wordpress: {
			enabled: !1,
			galleries: !1,
			captions: !1
		}
	})
}(jQuery, window)